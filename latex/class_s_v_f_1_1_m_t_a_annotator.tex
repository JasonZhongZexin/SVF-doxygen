\hypertarget{class_s_v_f_1_1_m_t_a_annotator}{}\doxysection{SVF\+::MTAAnnotator Class Reference}
\label{class_s_v_f_1_1_m_t_a_annotator}\index{SVF::MTAAnnotator@{SVF::MTAAnnotator}}


{\ttfamily \#include $<$MTAAnnotator.\+h$>$}

Inheritance diagram for SVF\+::MTAAnnotator\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_s_v_f_1_1_m_t_a_annotator}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a95f4607624dac40e9d62f37e6b16fcf0}\label{class_s_v_f_1_1_m_t_a_annotator_a95f4607624dac40e9d62f37e6b16fcf0}} 
typedef Set$<$ const Instruction $\ast$ $>$ {\bfseries Inst\+Set}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a37ae5e04b0f5560d0f6c2f143b325cd4}\label{class_s_v_f_1_1_m_t_a_annotator_a37ae5e04b0f5560d0f6c2f143b325cd4}} 
\mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_a37ae5e04b0f5560d0f6c2f143b325cd4}{MTAAnnotator}} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a1dc12d846adf07265a9b6a5c2694c84d}\label{class_s_v_f_1_1_m_t_a_annotator_a1dc12d846adf07265a9b6a5c2694c84d}} 
virtual \mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_a1dc12d846adf07265a9b6a5c2694c84d}{$\sim$\+MTAAnnotator}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_a5513a9f2a5b89ab5f90549552fb2b20f}{annotate\+DRCheck}} (Instruction $\ast$inst)
\begin{DoxyCompactList}\small\item\em Annotation. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a108616cc98f15af3010ca45b91f32c04}\label{class_s_v_f_1_1_m_t_a_annotator_a108616cc98f15af3010ca45b91f32c04}} 
void \mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_a108616cc98f15af3010ca45b91f32c04}{initialize}} (\mbox{\hyperlink{class_s_v_f_1_1_m_h_p}{MHP}} $\ast$mhp, \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis}{Lock\+Analysis}} $\ast$lsa)
\begin{DoxyCompactList}\small\item\em Initialize. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_af469d79fcc3bebd9360f72696a242d4e}{prune\+Thread\+Local}} (\mbox{\hyperlink{class_s_v_f_1_1_pointer_analysis}{Pointer\+Analysis}} $\ast$pta)
\begin{DoxyCompactList}\small\item\em Prune candidate instructions that are thread local. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_a0ed08b6a94483a750c95eef6c2523dc6}{prune\+Alias\+MHP}} (\mbox{\hyperlink{class_s_v_f_1_1_pointer_analysis}{Pointer\+Analysis}} $\ast$pta)
\begin{DoxyCompactList}\small\item\em Prune candidate instructions that non-\/mhp and non-\/alias with others. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a4e25b3ef3e4e91f14c35841d0138d888}\label{class_s_v_f_1_1_m_t_a_annotator_a4e25b3ef3e4e91f14c35841d0138d888}} 
void \mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_a4e25b3ef3e4e91f14c35841d0138d888}{perform\+Annotate}} ()
\begin{DoxyCompactList}\small\item\em Perform annotation. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_ab84e4295f1137090bdf9e0608a4c2077}\label{class_s_v_f_1_1_m_t_a_annotator_ab84e4295f1137090bdf9e0608a4c2077}} 
void \mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_ab84e4295f1137090bdf9e0608a4c2077}{collect\+Load\+Store\+Inst}} (\mbox{\hyperlink{class_s_v_f_1_1_s_v_f_module}{SVFModule}} $\ast$mod)
\begin{DoxyCompactList}\small\item\em Collect all load and store instruction. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a49434afd0d7beb9f5d6580e8f672889c}\label{class_s_v_f_1_1_m_t_a_annotator_a49434afd0d7beb9f5d6580e8f672889c}} 
const Value $\ast$ \mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_a49434afd0d7beb9f5d6580e8f672889c}{get\+Store\+Operand}} (const Instruction $\ast$inst)
\begin{DoxyCompactList}\small\item\em Get operand of store and load. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a399e53d065bc34af428a1ba89a04972b}\label{class_s_v_f_1_1_m_t_a_annotator_a399e53d065bc34af428a1ba89a04972b}} 
const Value $\ast$ {\bfseries get\+Load\+Operand} (const Instruction $\ast$inst)
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a36eb47b716c3b44ba5c459052bb0ed93}\label{class_s_v_f_1_1_m_t_a_annotator_a36eb47b716c3b44ba5c459052bb0ed93}} 
bool \mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_a36eb47b716c3b44ba5c459052bb0ed93}{is\+Memset}} (const Instruction $\ast$I)
\begin{DoxyCompactList}\small\item\em Check if Function \char`\"{}\+F\char`\"{} is memset. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_aee9e5ebac543d9a2aab511410b047898}\label{class_s_v_f_1_1_m_t_a_annotator_aee9e5ebac543d9a2aab511410b047898}} 
bool \mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_aee9e5ebac543d9a2aab511410b047898}{is\+Memcpy}} (const Instruction $\ast$I)
\begin{DoxyCompactList}\small\item\em Check if Function \char`\"{}\+F\char`\"{} is memcpy. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_aa0149b932b4148b14b36e2c5cf9b614b}\label{class_s_v_f_1_1_m_t_a_annotator_aa0149b932b4148b14b36e2c5cf9b614b}} 
u32\+\_\+t {\bfseries num\+Of\+All\+St}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a5c1743a40d54fdbde2f9dadb612de608}\label{class_s_v_f_1_1_m_t_a_annotator_a5c1743a40d54fdbde2f9dadb612de608}} 
u32\+\_\+t {\bfseries num\+Of\+All\+Ld}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a3c07f9964623b3895b1bab59a63dccfb}\label{class_s_v_f_1_1_m_t_a_annotator_a3c07f9964623b3895b1bab59a63dccfb}} 
u32\+\_\+t {\bfseries num\+Of\+Non\+Local\+St}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_ad53ac0cec797f84d3bc14bdb6bab1ab3}\label{class_s_v_f_1_1_m_t_a_annotator_ad53ac0cec797f84d3bc14bdb6bab1ab3}} 
u32\+\_\+t {\bfseries num\+Of\+Non\+Local\+Ld}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a71178ddc585c9ca7c9e5c3b52378cd7d}\label{class_s_v_f_1_1_m_t_a_annotator_a71178ddc585c9ca7c9e5c3b52378cd7d}} 
u32\+\_\+t {\bfseries num\+Of\+Alias\+St}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_aa1572c2a9f260ff66c9da661fd669a5f}\label{class_s_v_f_1_1_m_t_a_annotator_aa1572c2a9f260ff66c9da661fd669a5f}} 
u32\+\_\+t {\bfseries num\+Of\+Alias\+Ld}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a3a53e90b4f361d1298983bc89795b3d2}\label{class_s_v_f_1_1_m_t_a_annotator_a3a53e90b4f361d1298983bc89795b3d2}} 
u32\+\_\+t {\bfseries num\+Of\+MHPSt}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a29e0123620ab072fddc45331c6aa46e8}\label{class_s_v_f_1_1_m_t_a_annotator_a29e0123620ab072fddc45331c6aa46e8}} 
u32\+\_\+t {\bfseries num\+Of\+MHPLd}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_afbb8c25a126362ab0a4101866b4fc0ee}\label{class_s_v_f_1_1_m_t_a_annotator_afbb8c25a126362ab0a4101866b4fc0ee}} 
u32\+\_\+t {\bfseries num\+Of\+Annotated\+St}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a57df091dbdd4fc947cc5e7aaec123700}\label{class_s_v_f_1_1_m_t_a_annotator_a57df091dbdd4fc947cc5e7aaec123700}} 
u32\+\_\+t {\bfseries num\+Of\+Annotated\+Ld}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a4e10dbbb742125ebcbdc079ad647b87b}\label{class_s_v_f_1_1_m_t_a_annotator_a4e10dbbb742125ebcbdc079ad647b87b}} 
static const u32\+\_\+t \mbox{\hyperlink{class_s_v_f_1_1_m_t_a_annotator_a4e10dbbb742125ebcbdc079ad647b87b}{ANNO\+\_\+\+MHP}} = 0x04
\begin{DoxyCompactList}\small\item\em Constant INTERLEV\+\_\+\+FLAG values. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a27f54c50256fc4a2f96fa2305ad04eb1}\label{class_s_v_f_1_1_m_t_a_annotator_a27f54c50256fc4a2f96fa2305ad04eb1}} 
static const u32\+\_\+t {\bfseries ANNO\+\_\+\+ALIAS} = 0x02
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_aded5add82485d493d57e293fd59bf960}\label{class_s_v_f_1_1_m_t_a_annotator_aded5add82485d493d57e293fd59bf960}} 
static const u32\+\_\+t {\bfseries ANNO\+\_\+\+LOCAL} = 0x01
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{class_s_v_f_1_1_m_t_a}{MTA}} annotation 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a5513a9f2a5b89ab5f90549552fb2b20f}\label{class_s_v_f_1_1_m_t_a_annotator_a5513a9f2a5b89ab5f90549552fb2b20f}} 
\index{SVF::MTAAnnotator@{SVF::MTAAnnotator}!annotateDRCheck@{annotateDRCheck}}
\index{annotateDRCheck@{annotateDRCheck}!SVF::MTAAnnotator@{SVF::MTAAnnotator}}
\doxysubsubsection{\texorpdfstring{annotateDRCheck()}{annotateDRCheck()}}
{\footnotesize\ttfamily void MTAAnnotator\+::annotate\+DRCheck (\begin{DoxyParamCaption}\item[{Instruction $\ast$}]{inst }\end{DoxyParamCaption})}



Annotation. 

memcpy and memset is not annotated\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_a0ed08b6a94483a750c95eef6c2523dc6}\label{class_s_v_f_1_1_m_t_a_annotator_a0ed08b6a94483a750c95eef6c2523dc6}} 
\index{SVF::MTAAnnotator@{SVF::MTAAnnotator}!pruneAliasMHP@{pruneAliasMHP}}
\index{pruneAliasMHP@{pruneAliasMHP}!SVF::MTAAnnotator@{SVF::MTAAnnotator}}
\doxysubsubsection{\texorpdfstring{pruneAliasMHP()}{pruneAliasMHP()}}
{\footnotesize\ttfamily void MTAAnnotator\+::prune\+Alias\+MHP (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_s_v_f_1_1_pointer_analysis}{Pointer\+Analysis}} $\ast$}]{pta }\end{DoxyParamCaption})}



Prune candidate instructions that non-\/mhp and non-\/alias with others. 

if it1 == it2, mhp analysis will annotate it1 that locates in loop or recursion. but alias analysis fails to determine whether it1 is in loop or recursion, that means all store instructions will be annotated by alias analysis to guarantee sound.\mbox{\Hypertarget{class_s_v_f_1_1_m_t_a_annotator_af469d79fcc3bebd9360f72696a242d4e}\label{class_s_v_f_1_1_m_t_a_annotator_af469d79fcc3bebd9360f72696a242d4e}} 
\index{SVF::MTAAnnotator@{SVF::MTAAnnotator}!pruneThreadLocal@{pruneThreadLocal}}
\index{pruneThreadLocal@{pruneThreadLocal}!SVF::MTAAnnotator@{SVF::MTAAnnotator}}
\doxysubsubsection{\texorpdfstring{pruneThreadLocal()}{pruneThreadLocal()}}
{\footnotesize\ttfamily void MTAAnnotator\+::prune\+Thread\+Local (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_s_v_f_1_1_pointer_analysis}{Pointer\+Analysis}} $\ast$}]{pta }\end{DoxyParamCaption})}



Prune candidate instructions that are thread local. 

find fork arguments\textquotesingle{} objects

find global pointer-\/to objects

find all non-\/local objects that are transitively pointed by global and fork arguments.

compute all store and load instructions that may operate a non-\/local object.

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\+MTA/MTAAnnotator.\+h\item 
lib/\+MTA/MTAAnnotator.\+cpp\end{DoxyCompactItemize}
