\hypertarget{class_s_v_f_1_1_lock_analysis}{}\doxysection{SVF\+::Lock\+Analysis Class Reference}
\label{class_s_v_f_1_1_lock_analysis}\index{SVF::LockAnalysis@{SVF::LockAnalysis}}


{\ttfamily \#include $<$Lock\+Analysis.\+h$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ac2fbbabca4506e28f706cf54b1614791}\label{class_s_v_f_1_1_lock_analysis_ac2fbbabca4506e28f706cf54b1614791}} 
enum \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_ac2fbbabca4506e28f706cf54b1614791}{Val\+Domain}} \{ {\bfseries Empty}
, {\bfseries TDLocked}
, {\bfseries TDUnlocked}
 \}
\begin{DoxyCompactList}\small\item\em semilattice Empty==$>$TDUnlocked==$>$TDLocked \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ab468a6a0f1705c000dc4260097222b06}\label{class_s_v_f_1_1_lock_analysis_ab468a6a0f1705c000dc4260097222b06}} 
typedef \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} {\bfseries Cxt\+Lock}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ad855d1de318766ac305a10bfdae4da82}\label{class_s_v_f_1_1_lock_analysis_ad855d1de318766ac305a10bfdae4da82}} 
typedef \mbox{\hyperlink{class_s_v_f_1_1_cxt_proc}{Cxt\+Proc}} {\bfseries Cxt\+Lock\+Proc}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a4bde0f39a6b5cf83e0011d7ef272c685}\label{class_s_v_f_1_1_lock_analysis_a4bde0f39a6b5cf83e0011d7ef272c685}} 
typedef Node\+BS {\bfseries Lock\+Set}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_aeb4b15ecc4ba1a0ca8794d304d1895cb}\label{class_s_v_f_1_1_lock_analysis_aeb4b15ecc4ba1a0ca8794d304d1895cb}} 
typedef TCT\+::\+Inst\+Vec {\bfseries Inst\+Vec}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ae682eb30763f0f52184eb36c95fc3811}\label{class_s_v_f_1_1_lock_analysis_ae682eb30763f0f52184eb36c95fc3811}} 
typedef Set$<$ const Instruction $\ast$ $>$ {\bfseries Inst\+Set}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ae675d0ebf4eac597487ce83e667a8229}\label{class_s_v_f_1_1_lock_analysis_ae675d0ebf4eac597487ce83e667a8229}} 
typedef Inst\+Set {\bfseries CISpan}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_acdcc3fc4b90e7f67cfb9601ddc31d5f8}\label{class_s_v_f_1_1_lock_analysis_acdcc3fc4b90e7f67cfb9601ddc31d5f8}} 
typedef Map$<$ const Instruction $\ast$, CISpan $>$ {\bfseries CILock\+To\+Span}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a561bb2fbfbeee9117efad7c7c70871d8}\label{class_s_v_f_1_1_lock_analysis_a561bb2fbfbeee9117efad7c7c70871d8}} 
typedef Set$<$ const Function $\ast$ $>$ {\bfseries Fun\+Set}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a281e41a6a1cdc21c214aafa6ea23b343}\label{class_s_v_f_1_1_lock_analysis_a281e41a6a1cdc21c214aafa6ea23b343}} 
typedef Map$<$ const Instruction $\ast$, Inst\+Set $>$ {\bfseries Inst\+To\+Inst\+Set\+Map}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ab6ee6947515c61c07428e62c267d5412}\label{class_s_v_f_1_1_lock_analysis_ab6ee6947515c61c07428e62c267d5412}} 
typedef Map$<$ const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}}, \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_ac2fbbabca4506e28f706cf54b1614791}{Val\+Domain}} $>$ {\bfseries Cxt\+Stmt\+To\+Lock\+Flag\+Map}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ae2218961699a4b4385f47fb039005dbe}\label{class_s_v_f_1_1_lock_analysis_ae2218961699a4b4385f47fb039005dbe}} 
typedef \mbox{\hyperlink{class_s_v_f_1_1_f_i_f_o_work_list}{FIFOWork\+List}}$<$ \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} $>$ {\bfseries Cxt\+Stmt\+Work\+List}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a07b7d49e1fbe3e5dc694b6aadbee05b8}\label{class_s_v_f_1_1_lock_analysis_a07b7d49e1fbe3e5dc694b6aadbee05b8}} 
typedef Set$<$ \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} $>$ {\bfseries Lock\+Span}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a42ed881d4cd79eae099266a9e171aeb2}\label{class_s_v_f_1_1_lock_analysis_a42ed881d4cd79eae099266a9e171aeb2}} 
typedef Set$<$ \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} $>$ {\bfseries Cxt\+Stmt\+Set}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a0716c155b42b3ae7a6c8d7593bb6ac83}\label{class_s_v_f_1_1_lock_analysis_a0716c155b42b3ae7a6c8d7593bb6ac83}} 
typedef Set$<$ \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Lock}} $>$ {\bfseries Cxt\+Lock\+Set}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a7335d5b13a6cb1dcde9706f30b8a4826}\label{class_s_v_f_1_1_lock_analysis_a7335d5b13a6cb1dcde9706f30b8a4826}} 
typedef Map$<$ \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Lock}}, Lock\+Span $>$ {\bfseries Cxt\+Lock\+To\+Span}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ab782401c6521a2810e28ac602710ac22}\label{class_s_v_f_1_1_lock_analysis_ab782401c6521a2810e28ac602710ac22}} 
typedef Map$<$ \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Lock}}, Node\+BS $>$ {\bfseries Cxt\+Lock\+To\+Lock\+Set}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a1f9ae41c4ed7450d0d8b29cd20a6ef25}\label{class_s_v_f_1_1_lock_analysis_a1f9ae41c4ed7450d0d8b29cd20a6ef25}} 
typedef Map$<$ const Instruction $\ast$, Node\+BS $>$ {\bfseries Lock\+Site\+To\+Lock\+Set}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a32543eb205653a65bb71de55d0471a1d}\label{class_s_v_f_1_1_lock_analysis_a32543eb205653a65bb71de55d0471a1d}} 
typedef Map$<$ const Instruction $\ast$, Lock\+Span $>$ {\bfseries Inst\+To\+Cxt\+Stmt\+Set}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a388ab1fdb932d68655fb7032998ab1ba}\label{class_s_v_f_1_1_lock_analysis_a388ab1fdb932d68655fb7032998ab1ba}} 
typedef Map$<$ const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}}, Cxt\+Lock\+Set $>$ {\bfseries Cxt\+Stmt\+To\+Cxt\+Lock\+Set}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a058f3518f0b861c46c99095922e373f0}\label{class_s_v_f_1_1_lock_analysis_a058f3518f0b861c46c99095922e373f0}} 
typedef \mbox{\hyperlink{class_s_v_f_1_1_f_i_f_o_work_list}{FIFOWork\+List}}$<$ \mbox{\hyperlink{class_s_v_f_1_1_cxt_proc}{Cxt\+Lock\+Proc}} $>$ {\bfseries Cxt\+Lock\+Proc\+Vec}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a9bd40b3051f60c527eef38ae70cfeb14}\label{class_s_v_f_1_1_lock_analysis_a9bd40b3051f60c527eef38ae70cfeb14}} 
typedef set$<$ \mbox{\hyperlink{class_s_v_f_1_1_cxt_proc}{Cxt\+Lock\+Proc}} $>$ {\bfseries Cxt\+Lock\+Proc\+Set}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a6029b3e184b169bc8a32bd1ed97148ae}\label{class_s_v_f_1_1_lock_analysis_a6029b3e184b169bc8a32bd1ed97148ae}} 
typedef std\+::pair$<$ const Function $\ast$, const Function $\ast$ $>$ {\bfseries Func\+Pair}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_aa74d461f9dafa748e558ee120f914ce3}\label{class_s_v_f_1_1_lock_analysis_aa74d461f9dafa748e558ee120f914ce3}} 
typedef Map$<$ Func\+Pair, bool $>$ {\bfseries Func\+Pair\+To\+Bool}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_af8aff31058caba691c127b8aef297b43}\label{class_s_v_f_1_1_lock_analysis_af8aff31058caba691c127b8aef297b43}} 
{\bfseries Lock\+Analysis} (\mbox{\hyperlink{class_s_v_f_1_1_t_c_t}{TCT}} $\ast$t)
\item 
void \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_ad1516b6cb1dbd06b8dff04ae3c944621}{analyze}} ()
\item 
void \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a8a34f7544f22a87e1caf010c34abda75}{analyze\+Intra\+Procedual\+Lock}} ()
\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a6febb0bb12f4983cd54b3bd310ce65d2}{intra\+Forward\+Traverse}} (const Instruction $\ast$lock, Inst\+Set \&unlockset, Inst\+Set \&forward\+Insts)
\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a5f693c893f3701e1e025881f91193d53}{intra\+Backward\+Traverse}} (const Inst\+Set \&unlockset, Inst\+Set \&backward\+Insts)
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ae03db88ef0ad0da2c31cf1623b32165f}\label{class_s_v_f_1_1_lock_analysis_ae03db88ef0ad0da2c31cf1623b32165f}} 
void {\bfseries collect\+Cxt\+Lock} ()
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a00ccd89eff3fe8fec397df101f927cbe}\label{class_s_v_f_1_1_lock_analysis_a00ccd89eff3fe8fec397df101f927cbe}} 
void {\bfseries analyze\+Lock\+Span\+Cxt\+Stmt} ()
\item 
void \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_aa8683de99ad02fb75b175b0bb54e5f7d}{collect\+Lock\+Unlocksites}} ()
\item 
void \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a271506d5032033efae684b0d729f5b3e}{build\+Candidate\+Func\+Setfor\+Lock}} ()
\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_aa91522e95e8a9450032bfeaf7a3e491c}{is\+Intra\+Lock}} (const Instruction $\ast$lock) const
\begin{DoxyCompactList}\small\item\em Intraprocedural locks. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ab28428444170091d2c65572263b9f40b}\label{class_s_v_f_1_1_lock_analysis_ab28428444170091d2c65572263b9f40b}} 
void \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_ab28428444170091d2c65572263b9f40b}{add\+Intra\+Lock}} (const Instruction $\ast$lock\+Site, const Inst\+Set \&stmts)
\begin{DoxyCompactList}\small\item\em Add intra-\/procedural lock. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a0cc6e4b4ab78f3c54b68fe35adb02957}\label{class_s_v_f_1_1_lock_analysis_a0cc6e4b4ab78f3c54b68fe35adb02957}} 
void \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a0cc6e4b4ab78f3c54b68fe35adb02957}{add\+Cond\+Intra\+Lock}} (const Instruction $\ast$lock\+Site, const Inst\+Set \&stmts)
\begin{DoxyCompactList}\small\item\em Add intra-\/procedural lock. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ac33c03c9d4a978891009ae919559d567}\label{class_s_v_f_1_1_lock_analysis_ac33c03c9d4a978891009ae919559d567}} 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_ac33c03c9d4a978891009ae919559d567}{is\+Inside\+Intra\+Lock}} (const Instruction $\ast$stmt) const
\begin{DoxyCompactList}\small\item\em Return true if a statement is inside an intra-\/procedural lock. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_af3b0c1b628bac48d07c24008fd9edc4f}\label{class_s_v_f_1_1_lock_analysis_af3b0c1b628bac48d07c24008fd9edc4f}} 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_af3b0c1b628bac48d07c24008fd9edc4f}{is\+Inside\+Cond\+Intra\+Lock}} (const Instruction $\ast$stmt) const
\begin{DoxyCompactList}\small\item\em Return true if a statement is inside a partial lock/unlock pair (conditional lock with unconditional unlock) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ad8e7c32cb1163f4917124fed5cf6c3ab}\label{class_s_v_f_1_1_lock_analysis_ad8e7c32cb1163f4917124fed5cf6c3ab}} 
const Inst\+Set \& {\bfseries get\+Intra\+Lock\+Set} (const Instruction $\ast$stmt) const
\item 
void \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a177b10a617c275a9c2c2ed5e9b10d78a}{add\+Cxt\+Lock}} (const Call\+Str\+Cxt \&cxt, const Instruction $\ast$inst)
\begin{DoxyCompactList}\small\item\em Context-\/sensitive locks. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a6c918786d065309e8a7b13759f410a09}\label{class_s_v_f_1_1_lock_analysis_a6c918786d065309e8a7b13759f410a09}} 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a6c918786d065309e8a7b13759f410a09}{has\+Cxt\+Lock}} (const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Lock}} \&cxt\+Lock) const
\begin{DoxyCompactList}\small\item\em Get context-\/sensitive lock. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_af45f3c22edce16913ccbdd7015a06076}\label{class_s_v_f_1_1_lock_analysis_af45f3c22edce16913ccbdd7015a06076}} 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_af45f3c22edce16913ccbdd7015a06076}{intersects}} (const Cxt\+Lock\+Set \&lockset1, const Cxt\+Lock\+Set \&lockset2) const
\begin{DoxyCompactList}\small\item\em Return true if the intersection of two locksets is not empty. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a4424f27444c12dce8071c56a95c664bf}\label{class_s_v_f_1_1_lock_analysis_a4424f27444c12dce8071c56a95c664bf}} 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a4424f27444c12dce8071c56a95c664bf}{alias}} (const Cxt\+Lock\+Set \&lockset1, const Cxt\+Lock\+Set \&lockset2)
\begin{DoxyCompactList}\small\item\em Return true if two locksets has at least one alias lock. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a4c76b3fb18248081dc1affbc33940164}\label{class_s_v_f_1_1_lock_analysis_a4c76b3fb18248081dc1affbc33940164}} 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a4c76b3fb18248081dc1affbc33940164}{is\+Lock\+Candidate\+Fun}} (const Function $\ast$fun) const
\begin{DoxyCompactList}\small\item\em Return true if it is a candidate function. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a0af0f5bf91f4ae175b89ef24c27c987a}{has\+Cxt\+Stmtfrom\+Inst}} (const Instruction $\ast$inst) const
\begin{DoxyCompactList}\small\item\em Context-\/sensitive statement and lock spans. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_afc8c13fcff7c1199f63efc198a3b5a6d}\label{class_s_v_f_1_1_lock_analysis_afc8c13fcff7c1199f63efc198a3b5a6d}} 
const Cxt\+Stmt\+Set \& {\bfseries get\+Cxt\+Stmtfrom\+Inst} (const Instruction $\ast$inst) const
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a395df7174e06cad1971e6a81587ca043}\label{class_s_v_f_1_1_lock_analysis_a395df7174e06cad1971e6a81587ca043}} 
bool {\bfseries has\+Cxt\+Lockfrom\+Cxt\+Stmt} (const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&cts) const
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a4b55036dae224c83b650389a409d9b96}\label{class_s_v_f_1_1_lock_analysis_a4b55036dae224c83b650389a409d9b96}} 
const Cxt\+Lock\+Set \& {\bfseries get\+Cxt\+Lockfrom\+Cxt\+Stmt} (const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&cts) const
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a0809f300ab80173523b34226bb832bd2}\label{class_s_v_f_1_1_lock_analysis_a0809f300ab80173523b34226bb832bd2}} 
Cxt\+Lock\+Set \& {\bfseries get\+Cxt\+Lockfrom\+Cxt\+Stmt} (const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&cts)
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a718d6f2f55c1e2e7eb619c3e056ab458}\label{class_s_v_f_1_1_lock_analysis_a718d6f2f55c1e2e7eb619c3e056ab458}} 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a718d6f2f55c1e2e7eb619c3e056ab458}{add\+Cxt\+Stmt\+To\+Span}} (const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&cts, const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Lock}} \&cl)
\begin{DoxyCompactList}\small\item\em Add context-\/sensitive statement. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a0b21446e6d5dfc1b5d0ebd75895225dd}\label{class_s_v_f_1_1_lock_analysis_a0b21446e6d5dfc1b5d0ebd75895225dd}} 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a0b21446e6d5dfc1b5d0ebd75895225dd}{remove\+Cxt\+Stmt\+To\+Span}} (\mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&cts, const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Lock}} \&cl)
\begin{DoxyCompactList}\small\item\em Add context-\/sensitive statement. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_aaa0f33f19d9f80eee98289119ba907d2}\label{class_s_v_f_1_1_lock_analysis_aaa0f33f19d9f80eee98289119ba907d2}} 
void \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_aaa0f33f19d9f80eee98289119ba907d2}{touch\+Cxt\+Stmt}} (\mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&cts)
\begin{DoxyCompactList}\small\item\em Touch this context statement. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_af8ada4a73bf132e1adeef7aa0522f596}\label{class_s_v_f_1_1_lock_analysis_af8ada4a73bf132e1adeef7aa0522f596}} 
bool {\bfseries has\+Spanfrom\+Cxt\+Lock} (const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Lock}} \&cl)
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ae7942c801e05357bb63f08c24489daf6}\label{class_s_v_f_1_1_lock_analysis_ae7942c801e05357bb63f08c24489daf6}} 
Lock\+Span \& {\bfseries get\+Spanfrom\+Cxt\+Lock} (const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Lock}} \&cl)
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a86f06a790cf90ec897b896a79956e5b4}\label{class_s_v_f_1_1_lock_analysis_a86f06a790cf90ec897b896a79956e5b4}} 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a86f06a790cf90ec897b896a79956e5b4}{has\+One\+Cxt\+In\+Lock\+Span}} (const Instruction $\ast$I, Lock\+Span lspan) const
\begin{DoxyCompactList}\small\item\em Check if one instruction\textquotesingle{}s context stmt is in a lock span. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a33740d6dc51d24af2d0c8cb2fbf27db6}\label{class_s_v_f_1_1_lock_analysis_a33740d6dc51d24af2d0c8cb2fbf27db6}} 
bool {\bfseries has\+All\+Cxt\+In\+Lock\+Span} (const Instruction $\ast$I, Lock\+Span lspan) const
\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a4d4501d62bf51475662b6ba66e6380aa}{is\+Protected\+By\+Common\+Lock}} (const Instruction $\ast$i1, const Instruction $\ast$i2)
\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a56405fa1fec68717958ed1c05dd34287}{is\+Protected\+By\+Common\+Cxt\+Lock}} (const Instruction $\ast$i1, const Instruction $\ast$i2)
\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a3e2e629a588b44ed39e529babb59a4f9}{is\+Protected\+By\+Common\+Cxt\+Lock}} (const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&cxt\+Stmt1, const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&cxt\+Stmt2)
\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a842ddef4d1cb9c45555d949375627a48}{is\+Protected\+By\+Common\+CILock}} (const Instruction $\ast$i1, const Instruction $\ast$i2)
\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_af30d0dad3d17188de8c2cea9b004f3d3}{is\+In\+Same\+Span}} (const Instruction $\ast$I1, const Instruction $\ast$I2)
\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a4245d946dd694b59b5c8ef30b08cb1dd}{is\+In\+Same\+CSSpan}} (const Instruction $\ast$i1, const Instruction $\ast$i2) const
\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a8595b976bf60d161561e5494257aa179}{is\+In\+Same\+CSSpan}} (const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&cxt\+Stmt1, const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&cxt\+Stmt2) const
\item 
bool \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_a65aca2bc12fc34203b16549653943eae}{is\+In\+Same\+CISpan}} (const Instruction $\ast$i1, const Instruction $\ast$i2) const
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a3df63f936d488166109d73bdcf0437d5}\label{class_s_v_f_1_1_lock_analysis_a3df63f936d488166109d73bdcf0437d5}} 
u32\+\_\+t {\bfseries get\+Num\+Of\+Cxt\+Locks} ()
\item 
void \mbox{\hyperlink{class_s_v_f_1_1_lock_analysis_ac1b42b0a53feae04f848e5b0828ff01a}{print\+Locks}} (const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&cts)
\begin{DoxyCompactList}\small\item\em Print locks and spans. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_adadee129c04b82576b4ca3c7594cdcb2}\label{class_s_v_f_1_1_lock_analysis_adadee129c04b82576b4ca3c7594cdcb2}} 
double {\bfseries lock\+Time}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ad648ad9cda4070f9aec1addef0067627}\label{class_s_v_f_1_1_lock_analysis_ad648ad9cda4070f9aec1addef0067627}} 
u32\+\_\+t {\bfseries num\+Of\+Total\+Queries}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a80c56ebc6b9b594e97b56767f451ff8b}\label{class_s_v_f_1_1_lock_analysis_a80c56ebc6b9b594e97b56767f451ff8b}} 
u32\+\_\+t {\bfseries num\+Of\+Locked\+Queries}
\item 
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a853ab1a953ddcf76841016a833e43f3d}\label{class_s_v_f_1_1_lock_analysis_a853ab1a953ddcf76841016a833e43f3d}} 
double {\bfseries lock\+Queries\+Time}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Lock analysis 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a177b10a617c275a9c2c2ed5e9b10d78a}\label{class_s_v_f_1_1_lock_analysis_a177b10a617c275a9c2c2ed5e9b10d78a}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!addCxtLock@{addCxtLock}}
\index{addCxtLock@{addCxtLock}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{addCxtLock()}{addCxtLock()}}
{\footnotesize\ttfamily void SVF\+::\+Lock\+Analysis\+::add\+Cxt\+Lock (\begin{DoxyParamCaption}\item[{const Call\+Str\+Cxt \&}]{cxt,  }\item[{const Instruction $\ast$}]{inst }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Context-\/sensitive locks. 

Add inter-\/procedural context-\/sensitive lock \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ad1516b6cb1dbd06b8dff04ae3c944621}\label{class_s_v_f_1_1_lock_analysis_ad1516b6cb1dbd06b8dff04ae3c944621}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!analyze@{analyze}}
\index{analyze@{analyze}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{analyze()}{analyze()}}
{\footnotesize\ttfamily void Lock\+Analysis\+::analyze (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

context-\/sensitive forward traversal from each lock site. Generate following results (1) context-\/sensitive lock site, (2) maps a context-\/sensitive lock site to its corresponding lock span. \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a8a34f7544f22a87e1caf010c34abda75}\label{class_s_v_f_1_1_lock_analysis_a8a34f7544f22a87e1caf010c34abda75}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!analyzeIntraProcedualLock@{analyzeIntraProcedualLock}}
\index{analyzeIntraProcedualLock@{analyzeIntraProcedualLock}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{analyzeIntraProcedualLock()}{analyzeIntraProcedualLock()}}
{\footnotesize\ttfamily void Lock\+Analysis\+::analyze\+Intra\+Procedual\+Lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Analyze intraprocedural locks A lock is intraprocedural if its lock span is within a procedural FIXME\+:Should we intersect forward\+Insts and backward\+Insts?\mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a271506d5032033efae684b0d729f5b3e}\label{class_s_v_f_1_1_lock_analysis_a271506d5032033efae684b0d729f5b3e}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!buildCandidateFuncSetforLock@{buildCandidateFuncSetforLock}}
\index{buildCandidateFuncSetforLock@{buildCandidateFuncSetforLock}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{buildCandidateFuncSetforLock()}{buildCandidateFuncSetforLock()}}
{\footnotesize\ttfamily void Lock\+Analysis\+::build\+Candidate\+Func\+Setfor\+Lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Collect candidate functions for context-\/sensitive lock analysis \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_aa8683de99ad02fb75b175b0bb54e5f7d}\label{class_s_v_f_1_1_lock_analysis_aa8683de99ad02fb75b175b0bb54e5f7d}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!collectLockUnlocksites@{collectLockUnlocksites}}
\index{collectLockUnlocksites@{collectLockUnlocksites}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{collectLockUnlocksites()}{collectLockUnlocksites()}}
{\footnotesize\ttfamily void Lock\+Analysis\+::collect\+Lock\+Unlocksites (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Collect lock/unlock sites \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a0af0f5bf91f4ae175b89ef24c27c987a}\label{class_s_v_f_1_1_lock_analysis_a0af0f5bf91f4ae175b89ef24c27c987a}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!hasCxtStmtfromInst@{hasCxtStmtfromInst}}
\index{hasCxtStmtfromInst@{hasCxtStmtfromInst}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{hasCxtStmtfromInst()}{hasCxtStmtfromInst()}}
{\footnotesize\ttfamily bool SVF\+::\+Lock\+Analysis\+::has\+Cxt\+Stmtfrom\+Inst (\begin{DoxyParamCaption}\item[{const Instruction $\ast$}]{inst }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Context-\/sensitive statement and lock spans. 

Get Lock\+Set and Lock\+Span \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a5f693c893f3701e1e025881f91193d53}\label{class_s_v_f_1_1_lock_analysis_a5f693c893f3701e1e025881f91193d53}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!intraBackwardTraverse@{intraBackwardTraverse}}
\index{intraBackwardTraverse@{intraBackwardTraverse}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{intraBackwardTraverse()}{intraBackwardTraverse()}}
{\footnotesize\ttfamily bool Lock\+Analysis\+::intra\+Backward\+Traverse (\begin{DoxyParamCaption}\item[{const Inst\+Set \&}]{unlock\+Set,  }\item[{Inst\+Set \&}]{backward\+Insts }\end{DoxyParamCaption})}

Intra-\/procedural backward traversal \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a6febb0bb12f4983cd54b3bd310ce65d2}\label{class_s_v_f_1_1_lock_analysis_a6febb0bb12f4983cd54b3bd310ce65d2}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!intraForwardTraverse@{intraForwardTraverse}}
\index{intraForwardTraverse@{intraForwardTraverse}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{intraForwardTraverse()}{intraForwardTraverse()}}
{\footnotesize\ttfamily bool Lock\+Analysis\+::intra\+Forward\+Traverse (\begin{DoxyParamCaption}\item[{const Instruction $\ast$}]{lock\+Site,  }\item[{Inst\+Set \&}]{unlock\+Set,  }\item[{Inst\+Set \&}]{forward\+Insts }\end{DoxyParamCaption})}

Intra-\/procedural forward traversal \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a65aca2bc12fc34203b16549653943eae}\label{class_s_v_f_1_1_lock_analysis_a65aca2bc12fc34203b16549653943eae}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!isInSameCISpan@{isInSameCISpan}}
\index{isInSameCISpan@{isInSameCISpan}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{isInSameCISpan()}{isInSameCISpan()}}
{\footnotesize\ttfamily bool Lock\+Analysis\+::is\+In\+Same\+CISpan (\begin{DoxyParamCaption}\item[{const Instruction $\ast$}]{i1,  }\item[{const Instruction $\ast$}]{i2 }\end{DoxyParamCaption}) const}

Return true if two instructions are inside same context-\/insensitive lock span \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a8595b976bf60d161561e5494257aa179}\label{class_s_v_f_1_1_lock_analysis_a8595b976bf60d161561e5494257aa179}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!isInSameCSSpan@{isInSameCSSpan}}
\index{isInSameCSSpan@{isInSameCSSpan}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{isInSameCSSpan()}{isInSameCSSpan()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool Lock\+Analysis\+::is\+In\+Same\+CSSpan (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&}]{cxt\+Stmt1,  }\item[{const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&}]{cxt\+Stmt2 }\end{DoxyParamCaption}) const}

Return true if two context-\/sensitive instructions are inside same context-\/insensitive lock spa \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a4245d946dd694b59b5c8ef30b08cb1dd}\label{class_s_v_f_1_1_lock_analysis_a4245d946dd694b59b5c8ef30b08cb1dd}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!isInSameCSSpan@{isInSameCSSpan}}
\index{isInSameCSSpan@{isInSameCSSpan}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{isInSameCSSpan()}{isInSameCSSpan()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool Lock\+Analysis\+::is\+In\+Same\+CSSpan (\begin{DoxyParamCaption}\item[{const Instruction $\ast$}]{I1,  }\item[{const Instruction $\ast$}]{I2 }\end{DoxyParamCaption}) const}

Return true if two instructions are inside at least one common contex-\/sensitive lock span \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_af30d0dad3d17188de8c2cea9b004f3d3}\label{class_s_v_f_1_1_lock_analysis_af30d0dad3d17188de8c2cea9b004f3d3}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!isInSameSpan@{isInSameSpan}}
\index{isInSameSpan@{isInSameSpan}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{isInSameSpan()}{isInSameSpan()}}
{\footnotesize\ttfamily bool Lock\+Analysis\+::is\+In\+Same\+Span (\begin{DoxyParamCaption}\item[{const Instruction $\ast$}]{i1,  }\item[{const Instruction $\ast$}]{i2 }\end{DoxyParamCaption})}

Return true if two instructions are inside at least one common lock span \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_aa91522e95e8a9450032bfeaf7a3e491c}\label{class_s_v_f_1_1_lock_analysis_aa91522e95e8a9450032bfeaf7a3e491c}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!isIntraLock@{isIntraLock}}
\index{isIntraLock@{isIntraLock}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{isIntraLock()}{isIntraLock()}}
{\footnotesize\ttfamily bool SVF\+::\+Lock\+Analysis\+::is\+Intra\+Lock (\begin{DoxyParamCaption}\item[{const Instruction $\ast$}]{lock }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Intraprocedural locks. 

Return true if the lock is an intra-\/procedural lock \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a842ddef4d1cb9c45555d949375627a48}\label{class_s_v_f_1_1_lock_analysis_a842ddef4d1cb9c45555d949375627a48}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!isProtectedByCommonCILock@{isProtectedByCommonCILock}}
\index{isProtectedByCommonCILock@{isProtectedByCommonCILock}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{isProtectedByCommonCILock()}{isProtectedByCommonCILock()}}
{\footnotesize\ttfamily bool Lock\+Analysis\+::is\+Protected\+By\+Common\+CILock (\begin{DoxyParamCaption}\item[{const Instruction $\ast$}]{i1,  }\item[{const Instruction $\ast$}]{i2 }\end{DoxyParamCaption})}

Protected by at least one common context-\/insensitive lock \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a3e2e629a588b44ed39e529babb59a4f9}\label{class_s_v_f_1_1_lock_analysis_a3e2e629a588b44ed39e529babb59a4f9}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!isProtectedByCommonCxtLock@{isProtectedByCommonCxtLock}}
\index{isProtectedByCommonCxtLock@{isProtectedByCommonCxtLock}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{isProtectedByCommonCxtLock()}{isProtectedByCommonCxtLock()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool Lock\+Analysis\+::is\+Protected\+By\+Common\+Cxt\+Lock (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&}]{cxt\+Stmt1,  }\item[{const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&}]{cxt\+Stmt2 }\end{DoxyParamCaption})}

Protected by at least one common context-\/sensitive lock \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a56405fa1fec68717958ed1c05dd34287}\label{class_s_v_f_1_1_lock_analysis_a56405fa1fec68717958ed1c05dd34287}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!isProtectedByCommonCxtLock@{isProtectedByCommonCxtLock}}
\index{isProtectedByCommonCxtLock@{isProtectedByCommonCxtLock}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{isProtectedByCommonCxtLock()}{isProtectedByCommonCxtLock()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool Lock\+Analysis\+::is\+Protected\+By\+Common\+Cxt\+Lock (\begin{DoxyParamCaption}\item[{const Instruction $\ast$}]{i1,  }\item[{const Instruction $\ast$}]{i2 }\end{DoxyParamCaption})}

Protected by at least one common context-\/sensitive lock under each context \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_a4d4501d62bf51475662b6ba66e6380aa}\label{class_s_v_f_1_1_lock_analysis_a4d4501d62bf51475662b6ba66e6380aa}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!isProtectedByCommonLock@{isProtectedByCommonLock}}
\index{isProtectedByCommonLock@{isProtectedByCommonLock}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{isProtectedByCommonLock()}{isProtectedByCommonLock()}}
{\footnotesize\ttfamily bool Lock\+Analysis\+::is\+Protected\+By\+Common\+Lock (\begin{DoxyParamCaption}\item[{const Instruction $\ast$}]{i1,  }\item[{const Instruction $\ast$}]{i2 }\end{DoxyParamCaption})}

Check if two Instructions are protected by common locks echo inst may have multiple cxt stmt we check whether every cxt stmt of instructions is protected by a common lock.

Protected by at least one common lock under every context \mbox{\Hypertarget{class_s_v_f_1_1_lock_analysis_ac1b42b0a53feae04f848e5b0828ff01a}\label{class_s_v_f_1_1_lock_analysis_ac1b42b0a53feae04f848e5b0828ff01a}} 
\index{SVF::LockAnalysis@{SVF::LockAnalysis}!printLocks@{printLocks}}
\index{printLocks@{printLocks}!SVF::LockAnalysis@{SVF::LockAnalysis}}
\doxysubsubsection{\texorpdfstring{printLocks()}{printLocks()}}
{\footnotesize\ttfamily void Lock\+Analysis\+::print\+Locks (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_s_v_f_1_1_cxt_stmt}{Cxt\+Stmt}} \&}]{cts }\end{DoxyParamCaption})}



Print locks and spans. 

Print context-\/insensitive and context-\/sensitive locks 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\+MTA/Lock\+Analysis.\+h\item 
lib/\+MTA/Lock\+Analysis.\+cpp\end{DoxyCompactItemize}
