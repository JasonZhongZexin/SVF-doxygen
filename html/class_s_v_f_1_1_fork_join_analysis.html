<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SVF: SVF::ForkJoinAnalysis Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SVF
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_s_v_f.html">SVF</a></li><li class="navelem"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html">ForkJoinAnalysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_s_v_f_1_1_fork_join_analysis-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SVF::ForkJoinAnalysis Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a8d40e687caf8999369621ed385dfc631"><td class="memItemLeft" align="right" valign="top"><a id="a8d40e687caf8999369621ed385dfc631"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#a8d40e687caf8999369621ed385dfc631">ValDomain</a> { <b>Empty</b>
, <b>TDAlive</b>
, <b>TDDead</b>
 }</td></tr>
<tr class="memdesc:a8d40e687caf8999369621ed385dfc631"><td class="mdescLeft">&#160;</td><td class="mdescRight">semilattice Empty==&gt;TDDead==&gt;TDAlive <br /></td></tr>
<tr class="separator:a8d40e687caf8999369621ed385dfc631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a613d763731058899e6819acdb2d7315f"><td class="memItemLeft" align="right" valign="top"><a id="a613d763731058899e6819acdb2d7315f"></a>
typedef TCT::InstVec&#160;</td><td class="memItemRight" valign="bottom"><b>InstVec</b></td></tr>
<tr class="separator:a613d763731058899e6819acdb2d7315f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e0f7a646ab6b0295d9a990c91725b50"><td class="memItemLeft" align="right" valign="top"><a id="a8e0f7a646ab6b0295d9a990c91725b50"></a>
typedef Map&lt; const <a class="el" href="class_s_v_f_1_1_cxt_stmt.html">CxtStmt</a>, <a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#a8d40e687caf8999369621ed385dfc631">ValDomain</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>CxtStmtToAliveFlagMap</b></td></tr>
<tr class="separator:a8e0f7a646ab6b0295d9a990c91725b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27168ab02991978299cd312f6d223774"><td class="memItemLeft" align="right" valign="top"><a id="a27168ab02991978299cd312f6d223774"></a>
typedef Map&lt; const <a class="el" href="class_s_v_f_1_1_cxt_stmt.html">CxtStmt</a>, NodeBS &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>CxtStmtToTIDMap</b></td></tr>
<tr class="separator:a27168ab02991978299cd312f6d223774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb8df483e619337e77088e8543a9846"><td class="memItemLeft" align="right" valign="top"><a id="a7fb8df483e619337e77088e8543a9846"></a>
typedef Set&lt; NodePair &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ThreadPairSet</b></td></tr>
<tr class="separator:a7fb8df483e619337e77088e8543a9846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cf27e4045ca5fdaedb8f0d26ca007a3"><td class="memItemLeft" align="right" valign="top"><a id="a2cf27e4045ca5fdaedb8f0d26ca007a3"></a>
typedef Map&lt; const <a class="el" href="class_s_v_f_1_1_cxt_stmt.html">CxtStmt</a>, const Loop * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>CxtStmtToLoopMap</b></td></tr>
<tr class="separator:a2cf27e4045ca5fdaedb8f0d26ca007a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec0920d324604e3672db4d8dff93b1e"><td class="memItemLeft" align="right" valign="top"><a id="a0ec0920d324604e3672db4d8dff93b1e"></a>
typedef <a class="el" href="class_s_v_f_1_1_f_i_f_o_work_list.html">FIFOWorkList</a>&lt; <a class="el" href="class_s_v_f_1_1_cxt_stmt.html">CxtStmt</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>CxtStmtWorkList</b></td></tr>
<tr class="separator:a0ec0920d324604e3672db4d8dff93b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd98a293bb20064cf5d0bb71c619fc54"><td class="memItemLeft" align="right" valign="top"><a id="acd98a293bb20064cf5d0bb71c619fc54"></a>
typedef Map&lt; const Instruction *, <a class="el" href="class_s_v_f_1_1_p_t_a_s_c_e_v.html">PTASCEV</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>forkjoinToPTASCEVMap</b></td></tr>
<tr class="separator:acd98a293bb20064cf5d0bb71c619fc54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a431ec90a12a62bb892e8b78f66a8f9dc"><td class="memItemLeft" align="right" valign="top"><a id="a431ec90a12a62bb892e8b78f66a8f9dc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ForkJoinAnalysis</b> (<a class="el" href="class_s_v_f_1_1_t_c_t.html">TCT</a> *t)</td></tr>
<tr class="separator:a431ec90a12a62bb892e8b78f66a8f9dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a731ece7e21bfa2b08ae16780b55f9f5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#a731ece7e21bfa2b08ae16780b55f9f5f">collectSCEVInfo</a> ()</td></tr>
<tr class="memdesc:a731ece7e21bfa2b08ae16780b55f9f5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">functions  <a href="class_s_v_f_1_1_fork_join_analysis.html#a731ece7e21bfa2b08ae16780b55f9f5f">More...</a><br /></td></tr>
<tr class="separator:a731ece7e21bfa2b08ae16780b55f9f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16061e7c28e7a9177d9ab798c102b815"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#a16061e7c28e7a9177d9ab798c102b815">analyzeForkJoinPair</a> ()</td></tr>
<tr class="separator:a16061e7c28e7a9177d9ab798c102b815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819ef18524ee9104b920d1a465c61da1"><td class="memItemLeft" align="right" valign="top"><a id="a819ef18524ee9104b920d1a465c61da1"></a>
NodeBS &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#a819ef18524ee9104b920d1a465c61da1">getDirectlyJoinedTid</a> (const <a class="el" href="class_s_v_f_1_1_cxt_stmt.html">CxtStmt</a> &amp;cs)</td></tr>
<tr class="memdesc:a819ef18524ee9104b920d1a465c61da1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get directly joined threadIDs based on a context-sensitive join site. <br /></td></tr>
<tr class="separator:a819ef18524ee9104b920d1a465c61da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ec31a6859cd94b525bfa26e549d8c1"><td class="memItemLeft" align="right" valign="top">NodeBS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#a34ec31a6859cd94b525bfa26e549d8c1">getDirAndIndJoinedTid</a> (const <a class="el" href="class_s_v_f_1_1_cxt_stmt.html">CxtStmt</a> &amp;cs)</td></tr>
<tr class="memdesc:a34ec31a6859cd94b525bfa26e549d8c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get directly and indirectly joined threadIDs based on a context-sensitive join site.  <a href="class_s_v_f_1_1_fork_join_analysis.html#a34ec31a6859cd94b525bfa26e549d8c1">More...</a><br /></td></tr>
<tr class="separator:a34ec31a6859cd94b525bfa26e549d8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e058b920c3648f943f85099690ff44f"><td class="memItemLeft" align="right" valign="top"><a id="a4e058b920c3648f943f85099690ff44f"></a>
const Loop *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#a4e058b920c3648f943f85099690ff44f">isJoinInSymmetricLoop</a> (const <a class="el" href="class_s_v_f_1_1_cxt_stmt.html">CxtStmt</a> &amp;cs) const</td></tr>
<tr class="memdesc:a4e058b920c3648f943f85099690ff44f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether a context-sensitive join satisfies symmetric loop pattern. <br /></td></tr>
<tr class="separator:a4e058b920c3648f943f85099690ff44f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c68ce5fd8825b1593d92a5a5bad389"><td class="memItemLeft" align="right" valign="top"><a id="a86c68ce5fd8825b1593d92a5a5bad389"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#a86c68ce5fd8825b1593d92a5a5bad389">isHBPair</a> (NodeID tid1, NodeID tid2)</td></tr>
<tr class="memdesc:a86c68ce5fd8825b1593d92a5a5bad389"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether thread t1 happens-before thread t2. <br /></td></tr>
<tr class="separator:a86c68ce5fd8825b1593d92a5a5bad389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55532eefbcef639ced957ad82fbd340"><td class="memItemLeft" align="right" valign="top"><a id="ab55532eefbcef639ced957ad82fbd340"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#ab55532eefbcef639ced957ad82fbd340">isFullJoin</a> (NodeID tid1, NodeID tid2)</td></tr>
<tr class="memdesc:ab55532eefbcef639ced957ad82fbd340"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether t1 fully joins t2. <br /></td></tr>
<tr class="separator:ab55532eefbcef639ced957ad82fbd340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc178bd423dbb21bd46a9fae9ed0351c"><td class="memItemLeft" align="right" valign="top"><a id="acc178bd423dbb21bd46a9fae9ed0351c"></a>
const Instruction *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#acc178bd423dbb21bd46a9fae9ed0351c">getExitInstOfParentRoutineFun</a> (NodeID tid) const</td></tr>
<tr class="memdesc:acc178bd423dbb21bd46a9fae9ed0351c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get exit instruction of the start routine function of tid's parent thread. <br /></td></tr>
<tr class="separator:acc178bd423dbb21bd46a9fae9ed0351c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3449439792a54c847c67b3041094db49"><td class="memItemLeft" align="right" valign="top"><a id="a3449439792a54c847c67b3041094db49"></a>
const Loop *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#a3449439792a54c847c67b3041094db49">getJoinLoop</a> (const Instruction *inst)</td></tr>
<tr class="memdesc:a3449439792a54c847c67b3041094db49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get loop for join site. <br /></td></tr>
<tr class="separator:a3449439792a54c847c67b3041094db49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3db3e7a2ebe7646675aab16103691e7"><td class="memItemLeft" align="right" valign="top"><a id="ad3db3e7a2ebe7646675aab16103691e7"></a>
ScalarEvolution *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_v_f_1_1_fork_join_analysis.html#ad3db3e7a2ebe7646675aab16103691e7">getSE</a> (const Instruction *inst)</td></tr>
<tr class="memdesc:ad3db3e7a2ebe7646675aab16103691e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get SE for function. <br /></td></tr>
<tr class="separator:ad3db3e7a2ebe7646675aab16103691e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a16061e7c28e7a9177d9ab798c102b815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16061e7c28e7a9177d9ab798c102b815">&#9670;&nbsp;</a></span>analyzeForkJoinPair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ForkJoinAnalysis::analyzeForkJoinPair </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>context-sensitive forward traversal from each fork site. Generate following results (1) fork join pair, maps a context-sensitive join site to its corresponding thread ids (2) never happen-in-parallel thread pairs</p>
<p>Context-sensitive forward traversal from each fork site </p>

</div>
</div>
<a id="a731ece7e21bfa2b08ae16780b55f9f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a731ece7e21bfa2b08ae16780b55f9f5f">&#9670;&nbsp;</a></span>collectSCEVInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ForkJoinAnalysis::collectSCEVInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>functions </p>
<p>Collect SCEV pass information for pointers at fork/join sites Because ScalarEvolution is a function pass, previous knowledge of a function may be overwritten when analyzing a new function. We use a internal wrapper class <a class="el" href="class_s_v_f_1_1_p_t_a_s_c_e_v.html">PTASCEV</a> to record all the necessary information for determining symmetric fork/join inside loops </p>

</div>
</div>
<a id="a34ec31a6859cd94b525bfa26e549d8c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34ec31a6859cd94b525bfa26e549d8c1">&#9670;&nbsp;</a></span>getDirAndIndJoinedTid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NodeBS ForkJoinAnalysis::getDirAndIndJoinedTid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_s_v_f_1_1_cxt_stmt.html">CxtStmt</a> &amp;&#160;</td>
          <td class="paramname"><em>cs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get directly and indirectly joined threadIDs based on a context-sensitive join site. </p>
<p>Return thread id(s) which are joined at this join site (1) thread t1 directly joins thread t2 (2) thread t1 indirectly joins thread t3 via directly joining t2 (t2 fully joins its child thread t3) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/MTA/<a class="el" href="_m_h_p_8h_source.html">MHP.h</a></li>
<li>lib/MTA/MHP.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
